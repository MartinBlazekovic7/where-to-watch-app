<body>
  <h1>DI MOGU GLEDAT?</h1>
  <div class="container">
    <div class="controls">
      <input
        type="text"
        class="movie-input"
        maxlength="40"
        placeholder="UpiÅ¡i naziv"
        [(ngModel)]="userInput"
      />
      <div class="buttons">
        <button class="btn btn-primary" (click)="toggleItemDialog = true">
          {{ chosenItem.name?.toUpperCase() }}
        </button>
        <button class="btn btn-primary" (click)="toggleCountryDialog = true">
          <img
            src="../../../assets/images/{{ chosenCountry.locale }}.webp"
            alt="country-flag"
          />
        </button>
      </div>
      <span class="material-symbols-outlined" (click)="searchMovies()">
        search
      </span>
    </div>
    <div class="content">
      <div *ngFor="let item of searchResults" class="result-item">
        <ng-container *ngIf="item.title; else name">{{
          item.title
        }}</ng-container>
        <ng-template #name>{{ item.name }}</ng-template>
      </div>
    </div>
  </div>
</body>

<div *ngIf="toggleItemDialog" class="item-window">
  <div [@inOutAnimation] class="window">
    <div
      *ngFor="let item of items"
      (click)="changeItem(item)"
      [ngClass]="item === chosenItem ? 'item chosen' : 'item'"
      [@inOutAnimation]
    >
      {{ item.name?.toUpperCase() }}
    </div>
  </div>
</div>
<div *ngIf="toggleCountryDialog" class="item-window">
  <div
    [@inOutAnimationBigger]
    class="window"
    style="height: 600px; width: 800px"
  >
    <div
      *ngFor="let country of countries"
      (click)="changeCountry(country)"
      [ngClass]="country === chosenCountry ? 'item chosen' : 'item'"
      [@inOutAnimation]
    >
      {{ country.name?.toUpperCase() }}
    </div>
  </div>
</div>
